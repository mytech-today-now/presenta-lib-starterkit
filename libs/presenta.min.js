!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Presenta=t()}(this,(function(){"use strict";function e(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===o&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}e(".presenta *{box-sizing:border-box}.presenta{position:relative;--presenta-pw:960;--presenta-w:960px;--presenta-h:540px;--presenta-vp:960;--presenta-fz:1;--presenta-p:calc(var(--presenta-pw)/var(--presenta-vp))}.presenta h1,.presenta h2,.presenta h3,.presenta h4,.presenta h5,.presenta h6,.presenta p{line-height:inherit;border:inherit}");e(".colorVar__main,:root{--colorBack:#fff;--colorFore:#000;--colorAccent:#444;--colorAlt:#ddd}.colorVar__sec{--colorBack:#000;--colorAccent:#999}.colorVar__alt,.colorVar__sec{--colorFore:#fff;--colorAlt:#ccc}.colorVar__alt{--colorBack:#444;--colorAccent:#fff}");e(".colors__adele,.colors__adele .colorVar__main,.presenta .colors__adele.colorVar__main{--colorBack:#000;--colorFore:#fff;--colorAccent:#eeff2e;--colorAlt:#de1318}.colors__adele .colorVar__sec,.presenta .colors__adele.colorVar__sec{--colorBack:#eeff2e;--colorFore:#000;--colorAccent:#de1318;--colorAlt:#fff}.colors__adele .colorVar__alt,.presenta .colors__adele.colorVar__alt{--colorBack:#de1318;--colorFore:#eeff2e;--colorAccent:#fff;--colorAlt:#000}");e(".colors__belle,.colors__belle .colorVar__main,.presenta .colors__belle.colorVar__main{--colorBack:#a9dbd5;--colorFore:#000;--colorAccent:#fff;--colorAlt:#38999d}.colors__belle .colorVar__sec,.presenta .colors__belle.colorVar__sec{--colorBack:#000;--colorFore:#a9dbd5;--colorAccent:#fff;--colorAlt:#38999d}.colors__belle .colorVar__alt,.presenta .colors__belle.colorVar__alt{--colorBack:#fff;--colorFore:#38999d;--colorAccent:#a9dbd5;--colorAlt:#000}");e(".colors__cati,.colors__cati .colorVar__main,.presenta .colors__cati.colorVar__main{--colorBack:#e5ff9d;--colorFore:#1c003f;--colorAccent:#69567c;--colorAlt:#fff}.colors__cati .colorVar__sec,.presenta .colors__cati.colorVar__sec{--colorBack:#1c003f;--colorFore:#fff;--colorAccent:#e5ff9d;--colorAlt:#69567c}.colors__cati .colorVar__alt,.presenta .colors__cati.colorVar__alt{--colorBack:#69567c;--colorFore:#e5ff9d;--colorAccent:#fff;--colorAlt:#1c003f}");e(".colors__dania,.colors__dania .colorVar__main,.presenta .colors__dania.colorVar__main{--colorBack:#d0caa9;--colorFore:#30302f;--colorAccent:#ec4a25;--colorAlt:#fff}.colors__dania .colorVar__sec,.presenta .colors__dania.colorVar__sec{--colorBack:#30302f;--colorFore:#d0caa9;--colorAccent:#ec4a25;--colorAlt:#fff}.colors__dania .colorVar__alt,.presenta .colors__dania.colorVar__alt{--colorBack:#ec4a25;--colorFore:#fff;--colorAccent:#d0caa9;--colorAlt:#30302f}");e(".colors__elane,.colors__elane .colorVar__main,.presenta .colors__elane.colorVar__main{--colorBack:#3b7bc3;--colorFore:#f9fb45;--colorAccent:#fff;--colorAlt:#000}.colors__elane .colorVar__sec,.presenta .colors__elane.colorVar__sec{--colorBack:#000;--colorFore:#f9fb45;--colorAccent:#fff;--colorAlt:#3b7bc3}.colors__elane .colorVar__alt,.presenta .colors__elane.colorVar__alt{--colorBack:#f9fb45;--colorFore:#000;--colorAccent:#3b7bc3;--colorAlt:#fff}");e(".colors__flo,.colors__flo .colorVar__main,.presenta .colors__flo.colorVar__main{--colorBack:#ebded1;--colorFore:#0a47d1;--colorAccent:#fb4138;--colorAlt:#fff}.colors__flo .colorVar__sec,.presenta .colors__flo.colorVar__sec{--colorBack:#0a47d1;--colorFore:#ebded1;--colorAccent:#fff;--colorAlt:#fb4138}.colors__flo .colorVar__alt,.presenta .colors__flo.colorVar__alt{--colorBack:#fb4138;--colorFore:#fff;--colorAccent:#ebded1;--colorAlt:#0a47d1}");e(".colors__gina,.colors__gina .colorVar__main,.presenta .colors__gina.colorVar__main{--colorBack:#322067;--colorFore:#feb8ba;--colorAccent:#449eaf;--colorAlt:#fff}.colors__gina .colorVar__sec,.presenta .colors__gina.colorVar__sec{--colorBack:#feb8ba;--colorFore:#322067;--colorAccent:#fff;--colorAlt:#449eaf}.colors__gina .colorVar__alt,.presenta .colors__gina.colorVar__alt{--colorBack:#fff;--colorFore:#322067;--colorAccent:#449eaf;--colorAlt:#feb8ba}");e(".colors__hedy,.colors__hedy .colorVar__main,.presenta .colors__hedy.colorVar__main{--colorBack:#f9ffb1;--colorFore:#072020;--colorAccent:#ec4225;--colorAlt:#9eb0bb}.colors__hedy .colorVar__sec,.presenta .colors__hedy.colorVar__sec{--colorBack:#072020;--colorFore:#f9ffb1;--colorAccent:#ec4225;--colorAlt:#9eb0bb}.colors__hedy .colorVar__alt,.presenta .colors__hedy.colorVar__alt{--colorBack:#ec4225;--colorFore:#f9ffb1;--colorAccent:#c5dbe9;--colorAlt:#072020}");e(".colors__irma,.colors__irma .colorVar__main,.presenta .colors__irma.colorVar__main{--colorBack:#ffe600;--colorFore:#000;--colorAccent:#ff6400;--colorAlt:#fff}.colors__irma .colorVar__sec,.presenta .colors__irma.colorVar__sec{--colorBack:#000;--colorFore:#ffe600;--colorAccent:#fff;--colorAlt:#ff6400}.colors__irma .colorVar__alt,.presenta .colors__irma.colorVar__alt{--colorBack:#ff6400;--colorFore:#fff;--colorAccent:#ffe600;--colorAlt:#000}");e(".colors__red,.colors__red .colorVar__main,.presenta .colors__red.colorVar__main{--colorBack:#fff;--colorFore:#fc0d1b;--colorAccent:#000;--colorAlt:#eee}.colors__red .colorVar__sec,.presenta .colors__red.colorVar__sec{--colorBack:#fc0d1b;--colorFore:#fff;--colorAccent:#000;--colorAlt:#eee}.colors__red .colorVar__alt,.presenta .colors__red.colorVar__alt{--colorBack:#eee;--colorFore:#000;--colorAccent:#fc0d1b;--colorAlt:#fff}");e(".colors__blue,.colors__blue .colorVar__main,.presenta .colors__blue.colorVar__main{--colorBack:#fff;--colorFore:#0b24fb;--colorAccent:#000;--colorAlt:#eee}.colors__blue .colorVar__sec,.presenta .colors__blue.colorVar__sec{--colorBack:#0b24fb;--colorFore:#fff;--colorAccent:#b5bcff;--colorAlt:#eee}.colors__blue .colorVar__alt,.presenta .colors__blue.colorVar__alt{--colorBack:#eee;--colorFore:#000;--colorAccent:#0b24fb;--colorAlt:#fff}");e(':root{--fontHeading:Georgia,"Times New Roman",Times,serif;--fontText:"Trebuchet MS","Lucida Sans Unicode","Lucida Grande","Lucida Sans",Arial,sans-serif}');e('@import url("https://fonts.googleapis.com/css2?family=Montserrat:wght@600&family=Roboto+Mono:ital,wght@0,400;0,700;1,400&display=swap");.fonts__cardinal{--fontHeading:"Roboto Mono",monospace;--fontText:"Montserrat",sans-serif}');e('@import url("https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Work+Sans&display=swap");.fonts__corvid{--fontHeading:"Work Sans",sans-serif;--fontText:"Playfair Display",serif}');e('@import url("https://fonts.googleapis.com/css2?family=Roboto+Slab&family=Carrois+Gothic+SC&display=swap");.fonts__creeper{--fontHeading:"Roboto Slab",serif;--fontText:"Carrois Gothic SC",sans-serif}');e('@import url("https://fonts.googleapis.com/css2?family=Amatic+SC:wght@700&family=Open+Sans&display=swap");.fonts__duck{--fontHeading:"Amatic SC",cursive;--fontText:"Open Sans",sans-serif}.fonts__duck h1,.fonts__duck h2,.fonts__duck h3{font-size:3rem}');e('@import url("https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat&display=swap");.fonts__finch{--fontHeading:"Bebas Neue",cursive;--fontText:"Montserrat",sans-serif}');e('@import url("https://fonts.googleapis.com/css2?family=Anton&family=Lato&display=swap");.fonts__flow{--fontHeading:"Anton",cursive;--fontText:"Lato",sans-serif}');e('@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;900&display=swap");.fonts__goose{--fontHeading:"Inter",cursive;--fontText:"Inter",sans-serif}');e('@import url("https://fonts.googleapis.com/css2?family=Montserrat&family=Staatliches&display=swap");.fonts__heron{--fontHeading:"Staatliches",cursive;--fontText:"Montserrat",sans-serif}.fonts__heron h1,.fonts__heron h2,.fonts__heron h3,.fonts__heron h4,.fonts__heron h5,.fonts__heron h6{line-height:90%}');e(".transition__fadeIn .p-scene-enter-transition{transition:opacity .75s cubic-bezier(.2,.8,.05,.95)}.transition__fadeIn .to-right.p-scene-enter-start{opacity:0;transform:translate(0)}.transition__fadeIn .to-right.p-scene-enter-end{opacity:1}.transition__fadeIn .to-left.p-scene-enter-start{opacity:0;transform:translate(0)}.transition__fadeIn .to-left.p-scene-enter-end{opacity:1}");e(".transition__hSlide .p-scene-enter-transition{transition:transform .75s cubic-bezier(.87,0,.13,1)}.transition__hSlide .to-right.p-scene-enter-start{transform:translateX(100%)}.transition__hSlide .to-right.p-scene-enter-end{transform:translateX(0)}.transition__hSlide .to-left.p-scene-enter-start{transform:translateX(-100%)}.transition__hSlide .to-left.p-scene-enter-end{transform:translateX(0)}.transition__hSlide .p-scene-leave-transition{transition:transform .75s cubic-bezier(.87,0,.13,1)}.transition__hSlide .to-right.p-scene-leave-start{transform:translateX(0)}.transition__hSlide .to-right.p-scene-leave-end{transform:translateX(-100%)}.transition__hSlide .to-left.p-scene-leave-start{transform:translateX(0)}.transition__hSlide .to-left.p-scene-leave-end{transform:translateX(100%)}");e(".transition__vSlide .p-scene-enter-transition{transition:transform .75s cubic-bezier(.87,0,.13,1)}.transition__vSlide .to-right.p-scene-enter-start{transform:translateY(100%)}.transition__vSlide .to-right.p-scene-enter-end{transform:translateY(0)}.transition__vSlide .to-left.p-scene-enter-start{transform:translateY(-100%)}.transition__vSlide .to-left.p-scene-enter-end{transform:translateY(0)}.transition__vSlide .p-scene-leave-transition{transition:transform .75s cubic-bezier(.87,0,.13,1)}.transition__vSlide .to-right.p-scene-leave-start{transform:translateY(0)}.transition__vSlide .to-right.p-scene-leave-end{transform:translateY(-100%)}.transition__vSlide .to-left.p-scene-leave-start{transform:translateY(0)}.transition__vSlide .to-left.p-scene-leave-end{transform:translateY(100%)}");e(".transition__slideOver .p-scene-enter-transition{transition:all .75s cubic-bezier(.2,.8,.05,.95)}.transition__slideOver .p-scene-enter-start{transform:translateY(-150%)}.transition__slideOver .p-scene-enter-end{transform:translateY(0)}.transition__slideOver .p-scene-leave-transition{transition:all .75s cubic-bezier(.2,.8,.05,.95)}.transition__slideOver .p-scene-leave-start{transform:scale(1)}.transition__slideOver .p-scene-leave-end{transform:scale(.5)}");e(":root{--scenePadding:0;--sceneBackColor:none}.sceneVar__a{--scenePadding:0.5rem}.sceneVar__a,.sceneVar__b{--sceneBackColor:var(--colorFore)}.sceneVar__b{--scenePadding:2rem}.sceneVar__c{--scenePadding:3.5rem}.sceneVar__c,.sceneVar__d{--sceneBackColor:var(--colorFore)}.sceneVar__d{--scenePadding:0 4rem 4rem 0}.sceneVar__e{--scenePadding:4rem 0rem 4rem 0rem;--sceneBackColor:var(--colorFore)}");e(":root{--blockWeight:1;--blockPadding:0;--blockOpacity:1;--blockBlend:unset}.blockVar__a{--blockPadding:0.5rem}.blockVar__b{--blockPadding:1.5rem}.blockVar__c{--blockPadding:3rem}.blockVar__d{--blockPadding:0 3rem 3rem 0}.blockVar__e{--blockPadding:2rem 0rem 2rem 0rem}.blockVar__f{--blockPadding:1rem 0rem 3rem 0rem}");e('.layout{display:flex}.layout>div{height:100%}.landscape .layout{flex-direction:row}.portrait .layout{flex-direction:column}.layout__cols .layout{display:flex;flex-direction:row}.layout__cols .layout>div{height:100%}.layout__rows .layout{display:flex;flex-direction:column}.layout__rows .layout>div{width:100%}.layout__stack .layout{position:relative}.layout__stack .layout>div{position:absolute;top:0;left:0;width:100%;height:100%}.layout__stack .layout>div:not(:first-child){background:none}.layout__stack .layout>div:first-child:after{content:"";position:absolute;left:0;top:0;width:100%;height:100%;background-color:var(--colorBack);opacity:.7}.layout__pile .layout{position:relative}.layout__pile .layout>div{position:absolute;top:0;left:0;width:100%;height:100%}.layout__head .layout{display:flex;flex-direction:column}.layout__head .layout>div{width:100%}.layout__head .layout>div:last-child{flex:5}.layout__foot .layout{display:flex;flex-direction:column}.layout__foot .layout>div{width:100%}.layout__foot .layout>div:first-child{flex:5}.layout__left .layout{display:flex;flex-direction:row}.layout__left .layout>div{width:100%}.layout__left .layout>div:first-child{flex:2}.layout__right .layout{display:flex;flex-direction:row}.layout__right .layout>div{width:100%}.layout__right .layout>div:last-child{flex:2}');var t=["blue","red","adele","belle","cati","dania","elane","flo","gina","hedy","irma"],o=["cardinal","corvid","creeper","duck","finch","flow","goose","heron"],r=["fadeIn","hSlide","vSlide","slideOver"],s=["a","b","c","d","e"],n=["main","sec","alt"],i=["cols","rows","head","foot","left","right","stack","pile"];var l="style_arrows__2J_-T",a="style_left__199CL",c="style_right__2Bn_p",d="style_ui__1jWCU",_="style_hide__4RZI1";e(":root{--arrowsOpacity:1;--arrowsVerticalPosition:center;--arrowsHorizontalPosition:space-between;--arrowsPadding:10px}.style_arrows__2J_-T{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;transition:opacity .35s;z-index:100;justify-content:var(--arrowsHorizontalPosition);--arrowsColor:var(--colorFore)}.style_left__199CL,.style_right__2Bn_p{height:100%;display:flex;align-items:var(--arrowsVerticalPosition);justify-content:center;cursor:pointer;padding:var(--arrowsPadding);pointer-events:all}.style_ui__1jWCU{width:20px;height:20px;transition:background-color .3s ease-in-out;width:0;height:0;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:var(--arrowsOpacity)}.style_left__199CL .style_ui__1jWCU{border-right:10px solid var(--arrowsColor)}.style_right__2Bn_p .style_ui__1jWCU{border-left:10px solid var(--arrowsColor)}.style_arrows__2J_-T.style_hide__4RZI1{opacity:0}");var p=["colorBack","colorFore","colorAccent","colorAlt","scenePadding","sceneBackColor","blockPadding","blockWeight","blockOpacity","blockBlend"];var f=["transition","colors","fonts","layout","colorVar","blockVar","sceneVar"];var h={select:e=>"string"==typeof e?document.querySelector(e):e,props:(e,t)=>{p.forEach(o=>{if(t[o]){const r=t[o];e.style.setProperty("--"+o,r)}})},addProp:e=>{Array.isArray(e)?e.forEach(e=>{-1===p.indexOf(e)&&p.push(e)}):-1===p.indexOf(e)&&p.push(e)},globs:(e,t)=>{f.forEach(o=>{if(t[o]){const r=t[o];e.classList.add(`${o}__${r}`)}})},addGlob:e=>{Array.isArray(e)?e.forEach(e=>{-1===f.indexOf(e)&&f.push(e)}):-1===f.indexOf(e)&&f.push(e)},uid:e=>"uid"+JSON.stringify(e).split("").reduce((e,t)=>(e=(e<<5)-e+t.charCodeAt(0))&e,0),div:e=>(new DOMParser).parseFromString(e,"text/html").body.childNodes[0],fit:(e,t,o)=>{const r=getComputedStyle(e),s=+r.width.split("px")[0],n=+r.height.split("px")[0];let i=t.aspect;if(t.adapt){i=s/n}o.style.setProperty("--presenta-h",parseInt(960/i)+"px");const l=960/i,a=96e3/s,c=100*l/n,d=Math.max(a,c);let _="landscape";960<l&&(_="portrait"),o.classList.add(_),t._orientation=_,o.style.setProperty("--presenta-fz",1/(100/d))},event:(e,t)=>new CustomEvent(e,{bubbles:!0,detail:t}),io:{}};h.addProp(["arrowsOpacity","arrowsVerticalPosition","arrowsHorizontalPosition","arrowsPadding"]);var y="style_black__3Nszx";e(".style_black__3Nszx{width:100%;height:100%;position:absolute;top:0;left:0;background-color:#000;opacity:0;pointer-events:none;transition:opacity .5s cubic-bezier(.8,.2,.2,.8);z-index:999999}");const u=[];h.io.addPreload=e=>{u.push(e)};var g="style_progressbar__37EFM",v="style_bar__3nLkk";e(":root{--progressbarHeight:5px;--progressbarBottom:initial}.style_progressbar__37EFM{--progressbarColor:var(--colorFore);width:100%;height:100%;pointer-events:none}.style_bar__3nLkk{width:0;height:var(--progressbarHeight);position:absolute;bottom:var(--progressbarBottom);left:0;background-color:var(--progressbarColor);transition:width .5s cubic-bezier(.8,.2,.2,.8)}"),h.addProp(["progressbarHeight","progressbarBottom","progressbarColor"]);var m="style_pagenum__1OmQh",b="style_content__3u2tr";e(":root{--pagenumTextAlign:right;--pagenumPadding:5px;--pagenumFontSize:10px;--pagenumBackColor:none;--pagenumFont:var(--fontText)}.style_pagenum__1OmQh{--pagenumColor:var(--colorFore);width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:flex-end;pointer-events:none}.style_content__3u2tr{width:100%;text-align:var(--pagenumTextAlign);padding:var(--pagenumPadding);font-size:var(--pagenumFontSize);color:var(--pagenumColor);font-family:var(--pagenumFont);background-color:var(--pagenumBackColor);transition:all .3s ease-in-out}"),h.addProp(["pagenumTextAlign","pagenumPadding","pagenumFontSize","pagenumFont"]);var x="style_limitswitch__3g8Lq",w="style_signalSet__GRA42",k="style_signalOut__2qd5k";e(".style_limitswitch__3g8Lq{pointer-events:none;opacity:0;background-color:var(--colorAccent);width:100%;height:100%;position:absolute;top:0;left:0}.style_signalSet__GRA42{opacity:.75}.style_signalOut__2qd5k{transition:opacity .35s ease-out;opacity:0}");var A="style_sender__14oK8";e(".style_sender__14oK8{width:100%;height:100%;position:absolute;top:0;left:0;pointer-events:all}");const z=[],S=function(e,t,o,r){};h.io.addCache=e=>{z.push(e)},S.run=e=>new Promise((t,o)=>{let r=0,s=0;const n=e=>{const t=z.find(t=>t.type===e.type);t&&e[t.field]&&i.push(e)},i=[];e.scenes.forEach(e=>{e.blocks.forEach(e=>{n(e),"group"===e.type&&e.blocks.forEach(e=>n(e))})}),0===i.length&&t(),i.forEach(e=>{r++,(e=>{fetch(e.url).then(o=>{o.text().then(o=>{e._cache=o,s++,s===r&&t()})}).catch(o=>{s++,e._cache=o+": "+e.url,s===r&&t()})})(e)})});const F={autoplay:function(e,t,o,r){let s=null;const n="number"==typeof o?o:4e3,i=e=>{clearTimeout(s),s=setTimeout(()=>{t.next()},e)};t.on("indexChanged",e=>{const t=r.scenes[e.currentIndex].autoplay||n;i(t)}),t.on("stepChanged",e=>{const t=r.scenes[e.currentIndex].autoplay||n;i(t)})},keyboard:function(e,t,o,r){e.parentNode.addEventListener("keyup",e=>{"ArrowRight"!==e.key&&"ArrowDown"!==e.key||(t.next(),e.stopPropagation(),e.preventDefault()),"ArrowLeft"!==e.key&&"ArrowUp"!==e.key||(t.prev(),e.stopPropagation(),e.preventDefault())})},arrows:function(e,t,o,r){let s=null,n=0;const i=h.div(`<div class="${l}"></div>`),p=h.div(`<div class="${a}"><div class="${d}"></div></div>`);i.appendChild(p);const f=h.div(`<div class="${c}"><div class="${d}"></div></div>`);i.appendChild(f),e.appendChild(i),p.addEventListener("click",e=>{t.prev(),u()}),f.addEventListener("click",e=>{t.next(),u()});const y=e=>{n++,2===n&&document.addEventListener("mousemove",e=>{u()}),p.style.visibility="visible",f.style.visibility="visible",e.isFirst&&(p.style.visibility="hidden"),e.isLast&&e.totalSteps===e.currentStep&&(f.style.visibility="hidden")};t.on("stepChanged",e=>{y(e)}),t.on("indexChanged",e=>{y(e)});const u=()=>{clearTimeout(s),i.classList.remove(_),s=setTimeout(()=>{i.classList.add(_)},1500)}},black:function(e,t,o,r){let s=!1;const n=h.div(`<div class="${y}"></div>`);e.appendChild(n);const i=o.key||"b";e.parentNode.addEventListener("keyup",e=>{e.key===i&&(s=!s,n.style.opacity=s?1:0,e.stopPropagation(),e.preventDefault())})},fullscreen:function(e,t,o,r){const s=o.key||"f",n=e.parentNode,i=n.parentNode,l=()=>{var e;document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():(e=i).requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.msRequestFullscreen&&e.msRequestFullscreen()};this.toggle=l,n.addEventListener("keyup",e=>{e.key===s&&(l(),e.stopPropagation(),e.preventDefault())})},focus:function(e,t,o,r){const s=e.parentNode;new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&s.focus({preventScroll:!0})})}).observe(s)},preload:function(e,t,o,r){r.scenes.forEach(e=>{e.blocks.forEach(e=>{const t=u.find(t=>t.type===e.type);t&&((e,t)=>{const o=document.createElement("link");o.href=e,o.rel="preload",o.as=t,document.head.appendChild(o)})(e[t.field],t.as)})})},progressbar:function(e,t,o,r){const s=h.div(`<div class="${g}"></div>`),n=h.div(`<div class="${v}"></div>`);s.appendChild(n),e.appendChild(s);const i=r.scenes.length;t.on("indexChanged",e=>{(e=>{const t=(e.currentIndex+1)/i*100;n.style.width=t+"%"})(e)})},pagenum:function(e,t,o,r){const s=h.div(`<div class="${m}"></div>`),n=h.div(`<div class="${b}"></div>`);s.appendChild(n),e.appendChild(s);const i="string"==typeof o?o:"%s / %S",l=r.scenes.length;t.on("indexChanged",e=>{(e=>{const t=e.currentIndex+1,o=i.replace(/%s/gm,t).replace(/%S/gm,l);n.innerHTML=o})(e)})},shuffle:function(e,t,o,r){(e=>{for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}})(r.scenes)},loop:function(e,t,o,r){t.on("end",e=>{t.goto(0)})},current:function(e,t,o,r){const s=o&&o>0&&o<r.scenes.length?o-1:0;t.setCurrentIndex(s)},hidecursor:function(e,t,o,r){e.parentNode.style.cursor="none"},hidden:function(e,t,o,r){const s=[],n=r.scenes;n.forEach((e,t)=>{const o=e.blocks,r=[];e.hidden?s.push(t):o.forEach((e,t)=>{e.hidden&&r.push(t)});for(var n=o.length-1;n>=0;n--)r.indexOf(n)>=0&&o.splice(n,1)});for(var i=n.length-1;i>=0;i--)s.indexOf(i)>=0&&n.splice(i,1)},limitswitch:function(e,t,o,r){let s,n;const i=h.div(`<div class="${x}"></div>`);e.appendChild(i);const l=()=>{clearTimeout(s),clearTimeout(n),i.classList.remove(w,k),i.classList.add(w),s=setTimeout(()=>{i.classList.add(k)},16),n=setTimeout(()=>{i.classList.remove(w,k)},350)};t.on("begin",e=>{l()}),t.on("end",e=>{l()})},sync:function(e,t,o,r){if(!window.BroadcastChannel)return console.log("sync controller is disabled because browser incompatibility"),!1;console.log("SYNC");const s=new BroadcastChannel("presenta.sync");let n=!1;const i=(e,t)=>{n||s.postMessage({name:e,props:t}),n=!1};t.on("next",e=>{i("next",e)}),t.on("prev",e=>{i("prev",e)}),t.on("goto",e=>{i("goto",e)}),s.onmessage=e=>{const o=e.data,r=o.name,s=o.props;switch(n=!0,r){case"next":t.next();break;case"prev":t.prev();break;case"goto":t.goto(s.currentIndex)}}},sender:function(e,t,o,r){if(!window.BroadcastChannel)return console.log("sender controller is disabled because browser incompatibility"),!1;const s=new BroadcastChannel("presenta.sender"),n=h.div(`<div class="${A}"></div>`);e.appendChild(n),s.onmessage=e=>{const o=e.data,r=o.name,s=o.props;t.dispatch(r,s)};const i=(e,o)=>{const r={key:o.key};t.dispatch(e,r),s.postMessage({name:e,props:r})};e.parentNode.addEventListener("keydown",e=>{i("keydown",e)}),e.parentNode.addEventListener("keyup",e=>{i("keyup",e)}),e.parentNode.addEventListener("click",e=>{((e,o)=>{const r={x:o.clientX,y:o.clientY};t.dispatch(e,r),s.postMessage({name:e,props:r})})("click",e)})},cache:S};var C="style_step__2k6dh",V="style_initState__3wzFT";e(".style_step__2k6dh{transition:opacity .5s ease-in-out}.style_initState__3wzFT{opacity:0!important}");const P={steps:function(e,t,o){if("present"!==o._mode)return;const r=o.steps||"sequential",s="string"==typeof t?t:".step",n={};let i=0;o.blocks.filter(e=>!(e.hasOwnProperty("steps")&&!e.steps)).forEach(e=>{const t=e._el,l=("string"==typeof e.steps?e.steps:s).split(","),a=[];l.forEach(e=>{const o=e.indexOf("#")>=0,r=t[o?"querySelector":"querySelectorAll"](e);if(o)a.push({selector:e,els:r?[r]:[]});else{const t=Array.from(r);t.sort((e,t)=>e.dataset.order-t.dataset.order),a.push({selector:e,els:t})}}),"sequential"===r&&a.forEach(e=>{e.els.forEach(e=>{e.classList.add(C,V);const t={sandbox:"steps",index:i,els:[e]};o._steps.push(t),i++})}),"match"===r&&a.forEach(e=>{const t=e.selector,o=e.els;n[t]?n[t]=n[t].concat(o):n[t]=o})});for(const e in n){n[e].forEach(e=>e.classList.add(C,V));const t={sandbox:"steps",index:i,els:n[e]};o._steps.push(t),i++}this.stepForward=e=>{if("steps"===e.sandbox){e.els.forEach(e=>e.classList.remove(V))}}}};var j="style_debug__1-XHT";e(".style_debug__1-XHT{display:flex;align-items:center;justify-content:center}.style_debug__1-XHT,.style_debug__1-XHT svg{width:100%;height:100%}");e(".textVar__title{--textPadding:3rem;--textAlign:center;--textListAlign:center;--textFlexAlign:center;--textFlexJustify:center;--textSize:2.5rem}.textVar__text{--textAlign:left;--textListAlign:left;--textFlexJustify:flex-start;--textSize:1rem}.textVar__section,.textVar__text{--textPadding:2rem;--textFlexAlign:flex-start}.textVar__section{--textAlign:right;--textListAlign:right;--textFlexJustify:flex-end;--textSize:2rem}.textVar__mention{--textAlign:left;--textListAlign:left;--textFlexJustify:flex-start;--textSize:1.5rem}.textVar__mention,.textVar__suggest{--textPadding:2rem;--textFlexAlign:flex-end}.textVar__suggest{--textAlign:center;--textListAlign:center;--textFlexJustify:center;--textSize:0.8rem}.textStyle__a{--textboxpadding:0;--textboxbackcolor:var(--colorFore);--textboxradius:0;--textboxborder:0;--textboxshadow:0 0 0 var(--colorAccent);--textboxcolor:var(--colorBack)}");var B={text:"style_text__3T1cl",inner:"style_inner__11UJC",pretext:"style_pretext__cLjqD",textbox:"style_textbox__1Vb-V",itext:"style_itext__jz90o"};e(':root{--textPadding:0;--textAlign:center;--textListAlign:left;--textFlexAlign:center;--textFlexJustify:center;--textSize:1rem}.style_text__3T1cl{color:var(--colorFore)}.style_inner__11UJC,.style_text__3T1cl{width:100%;height:100%;position:relative}.style_pretext__cLjqD{display:flex;width:100%;height:100%;align-items:var(--textFlexAlign);justify-content:var(--textFlexJustify)}.style_textbox__1Vb-V{padding:var(--textboxpadding);text-align:var(--textAlign);font-size:var(--textSize);color:var(--textboxcolor);--backmark:var(--colorAccent);--foremark:var(--colorBack);--textaccentcolor:var(--colorAccent);font-family:var(--fontText)}.style_itext__jz90o{border:var(--textboxborder) solid var(--colorAccent);padding:var(--textPadding);border-radius:var(--textboxradius);box-shadow:var(--textboxshadow);background-color:var(--textboxbackcolor)}.style_itext__jz90o img{-o-object-fit:contain;object-fit:contain;height:4em;vertical-align:middle}.style_itext__jz90o mark{background-color:var(--backmark);color:var(--foremark);padding:.5rem;display:inline-block}.style_itext__jz90o high{color:var(--textaccentcolor)}.style_itext__jz90o bord{border:8px solid var(--backmark);padding:0 .5rem}.style_itext__jz90o a{color:var(--textaccentcolor);text-decoration:underline}.style_itext__jz90o blockquote{font-size:2em;font-weight:400;font-style:italic}.style_itext__jz90o blockquote,.style_itext__jz90o h1,.style_itext__jz90o h2,.style_itext__jz90o h3,.style_itext__jz90o h4,.style_itext__jz90o h5,.style_itext__jz90o h6,.style_itext__jz90o p,.style_itext__jz90o ul{margin:0}.style_itext__jz90o h1 b,.style_itext__jz90o h1 strong,.style_itext__jz90o h2 b,.style_itext__jz90o h2 strong,.style_itext__jz90o h3 b,.style_itext__jz90o h3 strong,.style_itext__jz90o h4 b,.style_itext__jz90o h4 strong,.style_itext__jz90o h5 b,.style_itext__jz90o h5 strong,.style_itext__jz90o h6 b,.style_itext__jz90o h6 strong{color:var(--textaccentcolor)}.style_itext__jz90o ol,.style_itext__jz90o ul{font-size:1.5em;line-height:1.1em;text-align:var(--textListAlign);margin:0;list-style-type:none;counter-reset:li;padding:.5rem 0}.style_itext__jz90o li{list-style-position:inside;margin-bottom:2px;padding:.25em .25em .25em .8em}.style_itext__jz90o ul li:before{content:"\\2013";display:inline-block;width:.8em;margin-left:-.8em}.style_itext__jz90o ol li:before{counter-increment:li;content:"." counter(li);display:inline-block;width:1.1em;margin-left:-1.3em;margin-right:.2em;text-align:right;direction:rtl}.style_itext__jz90o li p{display:inline}.style_itext__jz90o code,.style_itext__jz90o pre{text-align:left;margin:0}.style_itext__jz90o h1,.style_itext__jz90o h2,.style_itext__jz90o h3,.style_itext__jz90o h4,.style_itext__jz90o h5,.style_itext__jz90o h6{font-family:var(--fontHeading);padding:.5rem 0}.style_itext__jz90o h1{font-size:2em}.style_itext__jz90o h2{font-size:1.5em}.style_itext__jz90o h3{font-size:1.17em}.style_itext__jz90o h4{font-size:1em}.style_itext__jz90o h5{font-size:.83em}.style_itext__jz90o h6{font-size:.67em}.style_itext__jz90o p{padding:.5rem 0}.style_itext__jz90o hr{border:1px solid var(--colorFore);margin:.5rem 0}.style_itext__jz90o h1:first-child,.style_itext__jz90o h1:last-child,.style_itext__jz90o h2:first-child,.style_itext__jz90o h2:last-child,.style_itext__jz90o h3:first-child,.style_itext__jz90o h3:last-child{padding:0}.style_itext__jz90o table{width:100%}.style_itext__jz90o tr{padding:0}.style_itext__jz90o td,.style_itext__jz90o th{padding:.5rem;border-bottom:1px solid var(--colorFore)}.style_itext__jz90o small{font-size:.6em}');const $=function(e,t){const o=t.text||"";let r=1;t.responsive&&t._portrait&&(r=2);let s=1;t.textVar&&(s={title:2.5,text:1,section:2,mention:1.5,suggest:.8}[t.textVar]);let n=t.scale||s*r;const i=h.div(`<div class="c ${B.text}">\n    <div class="${B.inner}">\n      <div class="pretext ${B.pretext}">\n        <div class="${B.textbox}">\n          <div class="textContent ${B.itext} ${B.fadein}">\n            ${o}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>`);e.appendChild(i),this.beforeDestroy=()=>{},this.stepForward=()=>{};let l=i.querySelectorAll("img");l&&(l=[...l].forEach(e=>{const t=e.getAttribute("alt");if(t){const o=+t;o>0&&(e.style.height=4*o+"em")}}));const a=()=>{i.style.setProperty("--textSize",n+"rem");const e=i.querySelector("."+B.inner).getBoundingClientRect(),t=i.querySelector("."+B.textbox).getBoundingClientRect();if(parseInt(e.width)<parseInt(t.width)||parseInt(e.height)<parseInt(t.height))return n-=.1,a();setTimeout(()=>{i.querySelector("."+B.inner).style.visibility="visible"})};i.querySelector("."+B.inner).style.visibility="hidden",setTimeout(a)};$.init=()=>{h.addGlob(["textVar","textStyle"]),h.addProp(["textPadding","textAlign","textFlexAlign","textFlexJustify"]),h.io.addMarkdown&&h.io.addMarkdown({type:"text",field:"text"})};var L="style_inner__3WOWs",E="style_frame__28PUh",T="style_embed__2Pre2",O="style_loading__1w7wc",I="style_blockmouse__3bXSl",q="style_poster__1TOx3";e(":root{--embedPadding:0;--embedBackcolor:none;--embedPosterSize:cover;--embedPosterPosition:center}.style_inner__3WOWs{padding:var(--embedPadding);position:relative}.style_frame__28PUh{background-color:var(--embedBackcolor);position:relative}.style_embed__2Pre2,.style_frame__28PUh,.style_inner__3WOWs{width:100%;height:100%}.style_frame__28PUh>iframe{width:100%;height:100%;border:none}.style_loading__1w7wc{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:var(--colorFore);font-family:var(--fontText);background-color:var(--colorBack)}.style_loading__1w7wc mark{background-color:var(--colorAccent);color:var(--colorBack)}.style_blockmouse__3bXSl,.style_poster__1TOx3{position:absolute;top:0;left:0;width:100%;height:100%}.style_poster__1TOx3{background-color:var(--colorBack)}.style_poster__1TOx3 img{width:100%;height:100%;-o-object-fit:var(--embedPosterSize);object-fit:var(--embedPosterSize);-o-object-position:var(--embedPosterPosition);object-position:var(--embedPosterPosition)}");const D=function(e,t){t._mode;const o="present"===t._mode;let r=null;t.url&&(r=`<iframe src="${t.url}"></iframe>`),t.code&&(r=t.code);const s=(e=>{if(!e)return"";const t=new RegExp('src="(.*)',"gim").exec(e)[1].match(/http(s?):\/\/([\w]+\.){1}([\w]+\.?)+/gim);return t&&t.length>0?t[0]:null})(r),n=`<div class="cover ${O}"><h1>${s?`Embed from <mark>${s}</mark>`:"Embed resource"}</h1></div>`,i=t.blockPointer?`<div class='${I}' />`:"",l=t.poster?`<div class="${q}"><img src="${t.poster}" /></div>`:"",a=h.div(`<div class="c ${T}">\n    <div class="${L}">\n        <div class="${E}">${r}</div>\n        ${n}\n        ${l}\n        ${i}\n    </div>\n  </div>`);if(e.appendChild(a),this.beforeDestroy=()=>{},r&&o){a.querySelector("iframe").addEventListener("load",()=>{a.querySelector("."+O).style.display="none",l&&(a.querySelector("."+q).style.display="none")})}};D.init=()=>{h.addProp(["embedPadding","embedBackcolor","embedPosterSize","embedPosterPosition"])};var N="style_image__1fZIQ",M="style_inner__3tyMU",H="style_preimg__2ypvx";e(":root{--imagePadding:0;--imageBorder:none;--imageShadow:none;--imageSize:cover;--imagePosition:center}.style_image__1fZIQ,.style_inner__3tyMU{width:100%;height:100%}.style_inner__3tyMU{display:flex}.style_preimg__2ypvx{overflow:hidden;flex:1;padding:var(--imagePadding)}.style_preimg__2ypvx img{width:100%;height:100%;border:var(--imageBorder);box-shadow:var(--imageShadow);-o-object-fit:var(--imageSize);object-fit:var(--imageSize);-o-object-position:var(--imagePosition);object-position:var(--imagePosition)}");const R=function(e,t){const o=t.url,r=t.step?"step":"",s=`<div class="presentablock__image ${H}">\n        <img src="${o}" />\n      </div>`,n=h.div(`<div class="${N} ${r}">\n    <div class="imagesContainer ${M}">\n        ${s}\n    </div>\n  </div>`);this.beforeDestroy=()=>{},this.stepForward=e=>{},e.appendChild(n)};R.init=()=>{h.addProp(["imagePadding","imageBorder","imageShadow","imageSize","imagePosition"]),h.io.addPreload({type:"image",field:"url",as:"image"})};var J="style_video__1qbdJ";e(":root{--videoSize:cover;--videoPosition:center}.style_video__1qbdJ{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.style_video__1qbdJ video{width:100%;height:100%;-o-object-fit:var(--videoSize);object-fit:var(--videoSize);-o-object-position:var(--videoPosition);object-position:var(--videoPosition)}");const W=function(e,t){t._mode;const o="present"===t._mode,r=t.poster?"poster="+t.poster:"",s=t.loop?"loop":"",n=t.muted?"muted":"",i=t.autoplay&&o?"autoplay":"",l=t.url?"src="+t.url:"",a=h.div(`<div class="${J}">\n    <video ${r} ${l} ${s} ${i} ${n}></video>\n  </div>`);let c;this.beforeDestroy=()=>{t._rootElement.removeEventListener("keyup",p),a.removeEventListener("click",_)},this.stepForward=e=>{},e.appendChild(a);let d=t.autoplay;const _=()=>{c||(c=a.querySelector("video")),d?c.pause():c.play(),d=!d},p=e=>{" "===e.key&&(_(),e.stopPropagation(),e.preventDefault()),"r"===e.key&&c&&(c.currentTime=0),"m"===e.key&&c&&(c.volume=c.volume?0:1),"+"===e.key&&c&&(c.volume+=.1),"-"===e.key&&c&&(c.volume-=-.1)};o&&(t._rootElement.addEventListener("keyup",p),a.addEventListener("click",_))};W.init=()=>{h.addProp(["videoSize","videoPosition"]),h.io.addPreload({type:"video",field:"url",as:"video"})};e(".solidVar__a{--solidColor:#000}.solidVar__a,.solidVar__b{--solidOpacity:.7;--solidBlend:none}.solidVar__b{--solidColor:#fff}.solidVar__c{--solidColor:var(--colorBack);--solidOpacity:1;--solidBlend:multiply}");var U="style_solid__wiwvr";e(":root{--solidOpacity:1;--solidBlend:none;--solidColor:var(--colorAccent)}.style_solid__wiwvr{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:var(--solidColor);opacity:var(--solidOpacity);mix-blend-mode:var(--solidBlend)}"),h.addGlob("solidVar"),h.addProp(["solidColor","solidOpacity","solidColor"]);var X="style_svg__2xfFu",G="style_inner__AjKjt";e(":root{--svgPadding:0}.style_inner__AjKjt,.style_svg__2xfFu{width:100%;height:100%}.style_inner__AjKjt{padding:var(--svgPadding)}.style_svg__2xfFu svg{width:100%;height:100%}");const Y=function(e,t){const o=t._cache||t.code;if(!o)return console.log("[block svg]","The svg is not present");const r=h.div(`<div class="c ${X}">\n        <div class="${G}">\n            ${o}\n        </div>\n    </div>`);e.appendChild(r),this.beforeDestroy=()=>{},this.stepForward=()=>{}};Y.init=()=>{h.addProp(["svgPadding"]),h.io.addCache({type:"svg",field:"url"})};const K={debug:function(e,t){t._sceneConfig._steps.push(1);const o=h.div(`<div class="${j}">\n    <svg preserveAspectRatio="none" viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">\n      \n      <g class="sstep" data-order="3">\n        <rect width="50" height="150" fill="var(--colorFore)"/>\n        <rect x="50" width="50" height="150" fill="var(--colorBack)"/>\n        <rect x="100" width="50" height="150" fill="var(--colorAccent)"/>\n        <rect x="150" width="50" height="150" fill="var(--colorAlt)"/>\n      </g>\n\n      <g class="sstep" data-order="2">\n        <rect y="150" width="200" height="32" fill="var(--colorBack)"/>\n        <text fill="var(--colorFore)" xml:space="preserve" style="white-space: pre" font-family="var(--fontHeading)" font-size="12" letter-spacing="0em"><tspan x="3" y="170.102">fontHeading</tspan></text>\n        <text fill="var(--colorFore)" xml:space="preserve" style="white-space: pre" font-family="var(--fontText)" font-size="12" letter-spacing="0em"><tspan x="102" y="170.102">fontText</tspan></text>\n      </g>    \n\n      <g class="sstep" data-order="1">\n        <rect y="182" width="50" height="18" fill="var(--colorAlt)"/>\n        <rect x="50" y="182" width="50" height="18" fill="var(--colorAccent)"/>\n        <rect x="100" y="182" width="50" height="18" fill="var(--colorBack)"/>\n        <rect x="150" y="182" width="50" height="18" fill="var(--colorFore)"/>\n      </g>\n\n    </svg>\n  </div>`),r=t._sceneConfig._router,s=e=>{console.log("keyup",e)},n=e=>{console.log("click",e)};r&&(r.on("keyup",s),r.on("click",n)),this.beforeDestroy=()=>{r.off("keyup",s),r.off("click",n)},this.stepForward=e=>{},e.appendChild(o)},text:$,embed:D,image:R,video:W,solid:function(e,t){const o=h.div(`<div class="${U}"></div>`);this.beforeDestroy=()=>{},this.stepForward=e=>{},e.appendChild(o)},svg:Y},Q=(e,t,o)=>{if(K[e])return console.warn(`block type ${e} already defined`);o&&K[e]&&console.warn(`block type ${e} was overriden`),K[e]=t};var Z="container_mainwrapper__zelcO",ee="container_container__3kBNh";e(".container_mainwrapper__zelcO{outline:none}.container_container__3kBNh,.container_mainwrapper__zelcO{width:100%;height:100%;position:relative;overflow:hidden}.container_container__3kBNh>div{position:absolute;top:0;left:0;width:100%}");var te="router_router__2r4NQ";e(".router_router__2r4NQ{width:100%;height:100%;position:absolute;top:0;left:0;pointer-events:none}");const oe=function(e,t){const o=h.div(`<div class="controller ${te}"></div>`);e.appendChild(o);const r=t.scenes,s=()=>r.length-1,n={},i={};let l=0,a=0;const c=()=>r[l]&&r[l]._steps?r[l]._steps.length:0;this.next=()=>{a===c()?this.nextIndex():(a++,d("stepChanged")),d("next")},this.prev=()=>{this.prevIndex(),d("prev")},this.nextIndex=()=>{l<s()?(l++,a=0,d(["nextIndex","indexChanged"])):(l=s(),a=c(),d("end"))},this.prevIndex=()=>{l>0?(l--,a=0,d(["prevIndex","indexChanged"])):(l=0,a=0,d("begin"))},this.goto=e=>{const t=l>e?"prevIndex":"nextIndex";l=e<s()?e:s(),a=0,d(["goto",t,"indexChanged"])};const d=e=>{(Array.isArray(e)?e:[e]).forEach(e=>{"indexChanged"===e&&(()=>{const e=r[l];o.classList.remove(...o.classList),o.classList.add("controller",te),o.style=null,h.globs(o,e),h.props(o,e)})(),n[e]&&n[e].forEach(e=>{e({currentIndex:l,currentStep:a,totalScenes:this.totalScenes(),totalSteps:c(),isFirst:this.isFirst(),isLast:this.isLast()})})})};if(this.on=(e,t)=>{n[e]||(n[e]=[]),n[e].push(t)},this.off=(e,t)=>{const o=n[e].indexOf(t);o>=0&&n[e].splice(o,1)},this.totalScenes=()=>s()+1,this.totalSteps=()=>c(),this.currentIndex=()=>l,this.currentStep=()=>a,this.isFirst=()=>0===l,this.isLast=()=>l===s(),this.setCurrentIndex=e=>l=e,this.setCurrentStep=e=>a=e,this.controllers=i,this.dispatch=(e,t)=>{n[e]&&n[e].forEach(e=>{e(t)})},t.controllers)for(const e in t.controllers){const r=t.controllers[e],s=F[e];s||console.log(`Controller "${e}" not found. Maybe you forgot to include it.`),r&&s&&(i[e]=new s(o,this,r,t))}d("indexChanged"),setTimeout(()=>{d("init")})};var re="scene_sceneContainer__IgSpB",se="scene_scene__3uvTl",ne="scene_wrapper__3yr1k",ie="scene_content__1rJf0",le="scene_fcontainer__1E_0g",ae="scene_viewport__3uNLS";e(".scene_sceneContainer__IgSpB{width:100%;height:100%;display:flex;align-items:center;justify-content:center;position:relative}.scene_scene__3uvTl{--presenta-sw:calc(var(--presenta-w)/var(--presenta-p)/var(--presenta-fz));--presenta-sh:calc(var(--presenta-h)/var(--presenta-p)/var(--presenta-fz));--presenta-scal:calc(var(--presenta-pw)/var(--presenta-p)/var(--presenta-pw)/var(--presenta-fz));width:var(--presenta-sw);height:var(--presenta-sh);font-family:serif}.scene_wrapper__3yr1k{width:var(--presenta-w);height:var(--presenta-h);transform:scale(1);transform:scale(var(--presenta-scal));transform-origin:top left;overflow:hidden;padding:var(--scenePadding);background-color:var(--sceneBackColor)}.scene_content__1rJf0{width:100%;height:100%;display:flex;flex-direction:column;overflow:hidden}.scene_fcontainer__1E_0g{top:0;left:0;width:100%;height:100%;position:absolute;pointer-events:none}.scene_viewport__3uNLS{width:100%;height:100%;position:relative;flex:1;overflow:hidden;display:flex;flex-direction:row}.scene_viewport__3uNLS>div{height:100%}");var ce="block_block__BWbaZ",de="block_inner__3LS6s",_e="block_bdecoration__3KJh-",pe="block_fdecoration__12tBw";e(".block_block__BWbaZ{background:var(--colorBack);width:100%;height:100%;flex:1;flex:var(--blockWeight);overflow:hidden;position:relative}.block_inner__3LS6s{width:100%;height:100%;padding:var(--blockPadding);opacity:var(--blockOpacity);mix-blend-mode:var(--blockBlend)}.block_bdecoration__3KJh-,.block_inner__3LS6s{top:0;left:0;width:100%;height:100%;position:absolute}.block_fdecoration__12tBw{pointer-events:none}");const fe=function(e,t){this.type=t.type,this.index=t._index;var o=null;if(!this.type)return console.warn("No `type` field found in block "+this.index);let r=0;const s=t.id&&0===t.id.indexOf("#")?`id="${t.id.replace("#","")}"`:"",n=h.div(`<div class="block ${ce} b b${this.index}">\n    <div class="backDecoration ${_e}"></div>\n    <div ${s} class="blockContainer ${de}"></div>\n    <div class="frontDecoration ${pe}"></div>\n  </div>`);h.globs(n,t),h.props(n,t);const i=n.querySelector(".blockContainer");K[this.type]?o=new K[this.type](i,t):console.log(`block "${this.type}" not found`),this.beforeDestroy=()=>{o&&o.beforeDestroy&&o.beforeDestroy()},this.stepForward=()=>{r++,o.stepForward?o.stepForward(r):console.warn(`The block "${this.type}" doesn't implement the method "stepForward" but this scene tried to use it`)},this.destroy=()=>{o&&o.destroy&&o.destroy()},e.appendChild(n),t._el=n},he=e=>new function(e){this.clear=t=>(e.classList.remove(t),this),this.start=t=>(e.classList.add(t,"p-scene-enter-transition","p-scene-enter-start"),setTimeout(()=>{e.classList.add("p-scene-enter-end"),e.classList.remove("p-scene-enter-start")}),this),this.swap=()=>(e.classList.add("p-scene-enter-ended"),this),this.end=t=>(e.classList.remove("p-scene-enter-transition","p-scene-enter-end"),e.classList.add(t,"p-scene-leave-transition","p-scene-leave-start"),setTimeout(()=>{e.classList.add("p-scene-leave-end"),e.classList.remove("p-scene-leave-start")}),this)}(e),ye=function(e,t,o){const r=[],s=[];if(!e.blocks)return console.warn("No `blocks` array found in scene "+e.index);if(0===e.blocks.length&&console.warn("`blocks` is empty in scene "+e.index),t.modules)for(const o in t.modules)e.hasOwnProperty("modules")||(e.modules={}),e.modules.hasOwnProperty(o)||(e.modules[o]=t.modules[o]);const n=e.transition||t.transition;let i=0;e._steps=[];const l=e._steps,a=h.div(`<div \n      class="s ${re}">\n      <div class="sceneObject ${se}">\n        <div class="${ne}">\n            <div class="${ie}">\n                <div class="layout blocksContainer ${ae}"></div>\n                <div class="frontContainer ${le}"></div>\n            </div>\n        </div>\n      </div>\n  </div>`);h.globs(a,e),h.props(a,e),e._el=a,e._rootElement=o,e._mode=t.mode,this.el=a;if(e.blocks.forEach((s,n)=>{s._index=n,s._portrait="portrait"===t._orientation,s._mode=t.mode,s._rootElement=o,s._sceneConfig=e;const i=a.querySelector(".blocksContainer"),l=new fe(i,s);r.push(l)}),e.modules)for(const t in e.modules){const o=e.modules[t],r=P[t];if(r||console.log(`Module "${t}" not found. Maybe you forgot to include it.`),r&&o){const t=new r(a.querySelector("."+ie),o,e);s.push(t)}}if(n){const o=a.querySelector(".sceneObject"),r="backward"===e._presentatransdir?"to-left":"to-right";he(o).start(r),setTimeout(()=>{he(o).swap()},t._transitionDestroyDelay)}this.destroyAfter=t=>{if(n){const t=a.querySelector(".sceneObject"),o="backward"===e._presentatransdir?"to-right":"to-left",r="backward"===e._presentatransdir?"to-left":"to-right";he(t).clear(o).end(r)}const o=t||0;s.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()}),r.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()}),setTimeout(()=>{this.destroy(),a.parentNode.removeChild(a)},o)},this.stepForward=()=>{if(i<l.length){const e=l[i];s.forEach(t=>{t.stepForward&&t.stepForward(e,i)}),i++}},this.destroy=()=>{s.forEach(e=>{e.destroy&&e.destroy()}),r.forEach(e=>{e.destroy&&e.destroy()})},this.sceneConfig=e},ue=function(e,t){const o=getComputedStyle(e);let r=+o.width.split("px")[0],s=+o.height.split("px")[0];if(r<=0&&(r=360,e.style.width=r+"px"),s<=0&&(s=200,t.aspect&&(s=r/t.aspect),e.style.height=s+"px"),!t.scenes)return console.warn("No `scenes` array found");0===t.scenes.length&&console.warn("`scenes` is empty"),e.classList.add("presenta");const n=h.div(`<div class="${Z}"></div>`);n.setAttribute("tabindex","0"),h.globs(n,t),h.props(n,t),e.appendChild(n);const i=h.div(`<div class="a ${ee}"></div>`);n.appendChild(i);const l=t.scenes;var a=null;const c=(o,r)=>{if(a&&(a.sceneConfig._presentatransdir=r,a.destroyAfter(t._transitionDestroyDelay)),l.length>0){const s=l[o];s._presentatransdir=r,s._router=d,(a=new ye(s,t,e)).el&&i.appendChild(a.el)}},d=new oe(n,t);if(d.on("nextIndex",e=>{c(e.currentIndex,"foreward")}),d.on("prevIndex",e=>{c(e.currentIndex,"backward")}),d.on("stepChanged",e=>{a.stepForward()}),d.on("init",e=>{c(e.currentIndex,"foreward")}),window.ResizeObserver){new ResizeObserver(o=>{h.fit(n,t,e)}).observe(n)}h.fit(n,t,e),this.destroy=()=>{a.destroy()},this.router=d,this.config=t};var ge="style_group__2AqP-",ve="style_gblock__3SGer";e(".style_group__2AqP-,.style_group__2AqP->div{width:100%;height:100%;position:relative}.style_gblock__3SGer{background:none}");const me=function(e,t){const o=t.blocks,r=[],s=h.div(`<div class="${ge}">\n    <div class="layout"></div>\n  </div>`),n=s.querySelector(".layout");o.forEach((e,t)=>{e.index=t,r.push(new fe(n,e)),e._el.classList.add(ve)}),e.appendChild(s)};me.init=()=>{};const be=(e,t,o)=>{Object.keys(t).forEach(r=>{const s=e[r];s.init&&s.init(t[r]),o.push(s)})};const xe=function(e,t){(e=>{const t={aspect:1.6,adapt:!0,mode:"present",controllers:{keyboard:!0,arrows:!0,black:!0,fullscreen:!0,hidden:!0,limitswitch:!0,cache:!0},modules:{steps:!0},transition:null,colorvar:null,_transitionDestroyDelay:1e3};for(const o in t)if(e.hasOwnProperty(o)){if("object"==typeof t[o])for(const r in t[o])e[o]&&!e[o].hasOwnProperty(r)&&(e[o][r]=t[o][r])}else e[o]=t[o]})(t);const o=(e=>{const t=[];be(F,e.controllers,t),be(P,e.modules,t);const o=e.scenes.reduce((e,t)=>(t.blocks.reduce((t,o)=>{-1===e.indexOf(o.type)&&e.push(o.type)},[]),e),[]),r=[];o.forEach(e=>r[e]=!0),be(K,r,t);const s=[];for(const o in t)t[o].run&&s.push(t[o].run(e));return s})(t);return new Promise((r,s)=>{Promise.all(o).then(o=>{r(new ue(h.select(e),t))})})};return Q("group",me),xe.version="0.1.5",xe.colors=t,xe.fonts=o,xe.transitions=r,xe.layouts=i,xe.colorvars=n,xe.scenevars=s,xe.addBlock=Q,xe.addController=(e,t,o)=>{if(F[e])return console.warn(`controller io ${e} already defined`);o&&F[e]&&console.warn(`controller type ${e} was overriden`),F[e]=t},xe.addModule=(e,t,o)=>{if(!o&&P[e])return console.warn(`module type ${e} already defined`);o&&P[e]&&console.warn(`module type ${e} was overriden`),P[e]=t},xe.addGlob=h.addGlob,xe.addProp=h.addProp,xe.io=h.io,xe.use=e=>{e.install(xe)},xe}));
